<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Ticket Form</title>
  </head>
  <body>
    <h1 th:if="${ticket == null or ticket.id == null}">Create Ticket</h1>
    <h1 th:if="${ticket != null and ticket.id != null}">Edit Ticket</h1>
    <form
      th:action="${ticket == null or ticket.id == null} ? @{/tickets} : @{/tickets/update/{id}(id=${ticket.id})}"
      method="post"
    >
      <label
        >User:
        <select name="userId" required>
          <option value="">Select User</option>
          <option
            th:each="user : ${users}"
            th:value="${user.id}"
            th:text="${user.name}"
            th:selected="${ticket != null and ticket.user != null and ticket.user.id == user.id}"
          ></option>
        </select> </label
      ><br />
      <label
        >Train:
        <select name="trainId" required>
          <option value="">Select Train</option>
          <option
            th:each="train : ${trains}"
            th:value="${train.id}"
            th:text="${train.name}"
            th:selected="${ticket != null and ticket.train != null and ticket.train.id == train.id}"
          ></option>
        </select> </label
      ><br />
      <button type="submit">Save</button>
    </form>
  </body>
</html>
