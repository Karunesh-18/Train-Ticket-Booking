<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TicketFlare â€” Book Tickets Easily</title>
  <meta name="description" content="TicketFlare - simple local demo page" />

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/f745bad339.js" crossorigin="anonymous"></script>
  <style>

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Poppins', 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #8bc7e3;
      color: #063046;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 32px;
      box-sizing: border-box;
    }

    .logo {
      width: 180px;
      height: auto;
      margin-bottom: 18px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(6,48,70,0.12);
      background: rgba(255,255,255,0.6);
      padding: 8px;
    }

    h1 {
      margin: 0 0 8px 0;
      font-size: 28px;
      letter-spacing: -0.2px;
      color: #042936;
    }

    p.lead {
      margin: 0;
      color: #083f4b;
      opacity: 0.95;
    }

    .card {
      margin-top: 22px;
      background: rgba(255,255,255,0.9);
      color: #042936;
      padding: 16px 20px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(6,48,70,0.08);
      max-width: 420px;
    }

    a.button {
      display: inline-block;
      margin-top: 12px;
      background: #000000;
      color: #ff0000;
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
    }

    @media (max-width: 420px) {
      .logo { width: 140px; }
      h1 { font-size: 22px; }
    }

    header.navbar {
      background: #61afd3;
      border-bottom: none; 
    }
    .navbar-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 8px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .navbar .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: #042936;
    }
    .navbar .brand img {
      height: 90px; 
      width: auto;
      display: block;
    }
    .nav-actions {
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }
    .nav-actions { gap: 16px; }
    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 10px;
      text-decoration: none;
      color: #042936;
      background: transparent;
      border: none;
      font-weight: 600;
      transition: background-color 1.0s ease, color 1.0s ease;
    }
    .nav-btn i { font-size: 16px; }
    .nav-btn:hover { background: rgba(0,0,0,0.10); color: #022c3a; text-decoration: none; }

    .img {
      clip-path: polygon(0 5%, 100% 5%, 100% 78.5%, 0 78.5%);
      transform: translateY(-30px);
    }

    /* Search bar styling */
    :root {
      --primary: #61afd3; /* harmonize with header */
      --primary-dark: #3a94b5;
      --surface: #ffffff;
      --text: #042936;
      --border: rgba(0,0,0,0.08);
      --shadow: 0 10px 24px rgba(6,48,70,0.10);
      --chip: rgba(97,175,211,0.15);
      --chip-active: rgba(97,175,211,0.25);
      --cta: #3a94b5;
      --cta-text: #ffffff;
    }
    .search-container { max-width: 980px; padding: 0 16px; }
    .hero { position: relative; }
    .hero .search-container { position: absolute; left: 50%; bottom: 10%; transform: translateX(-50%); z-index: 5; width: calc(100% - 32px); }
    .search-box {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
    }
    .search-box .field { display: grid; grid-template-columns: auto 1fr; grid-template-rows: auto auto; column-gap: 8px; align-items: center; padding: 8px 10px; }
    .search-box .field:not(.date) { border-right: 1px solid var(--border); }
    .search-box .field i { grid-row: 1 / span 2; color: var(--primary-dark); font-size: 18px; }
    .search-box .field .meta { font-size: 12px; opacity: 0.7; }
    .search-box input { border: 0; outline: none; font-size: 16px; background: transparent; color: var(--text); }
    .search-box input::placeholder { color: #58737f; opacity: 0.8; }
    .swap-btn { width: 34px; height: 34px; border-radius: 50%; border: 0; background: var(--primary-dark); color: #fff; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(6,48,70,0.2); cursor: pointer; }
    .swap-btn:hover { background: #2f86a0; }
    .field.date { display: grid; grid-template-columns: auto 1fr auto; grid-template-rows: auto auto; align-items: center; column-gap: 25px; row-gap: 2px; position: relative; }
    .field.date .meta { grid-column: 2; grid-row: 1; }
    .field.date .date-value { grid-column: 2; grid-row: 2; font-weight: 700; }
    .field.date .chips { grid-column: 3; grid-row: 1 / span 2; justify-self: end; gap: 12px; }
    .date-value { font-weight: 600; }
    .chips { display: inline-flex; gap: 10px; }
    .chip { border: 1px solid var(--border); background: var(--chip); color: var(--text); padding: 6px 12px; border-radius: 18px; cursor: pointer; }
    .chip.active { background: var(--chip-active); }
    .chip:hover { background: var(--chip-active); }
    .cta-wrap { display: flex; justify-content: center; margin-top: 12px; }
    .search-btn { background: var(--cta); color: var(--cta-text); border: 0; border-radius: 24px; padding: 12px 18px; font-weight: 700; display: inline-flex; align-items: center; gap: 10px; box-shadow: 0 8px 16px rgba(58,148,181,0.35); cursor: pointer; }
    .search-btn:hover { background: #2f86a0; }

    /* Date picker overlay */
    .date-picker { position: absolute; top: calc(100% + 8px); left: 0; transform: none; background: var(--surface); color: var(--text); border: 1px solid var(--border); border-radius: 10px; box-shadow: var(--shadow); width: 420px; padding: 10px; z-index: 20; }
    .dp-top { display: grid; grid-template-columns: 1fr; row-gap: 4px; padding: 6px 8px 0; }
    .dp-top .label { font-size: 11px; opacity: 0.7; }
    .dp-top .value { font-weight: 700; font-size: 14px; }
    .dp-header { display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; }
    .dp-month { font-weight: 700; font-size: 14px; }
    .dp-nav { border: 0; background: var(--chip); color: var(--text); width: 28px; height: 28px; border-radius: 14px; cursor: pointer; }
    .dp-nav:disabled { opacity: 0.5; cursor: not-allowed; }
    .dp-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; padding: 4px 8px; font-size: 11px; opacity: 0.7; }
    .dp-weekdays span:nth-child(6), .dp-weekdays span:nth-child(7) { color: #2f86a0; opacity: 1; }
    .dp-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; padding: 6px; }
    .dp-cell { display: flex; align-items: center; justify-content: center; height: 34px; border-radius: 8px; cursor: pointer; font-size: 14px; }
    .dp-cell:hover { background: var(--chip-active); }
    .dp-cell.disabled { opacity: 0.35; cursor: not-allowed; }
    .dp-cell.weekend { color: #ff0000; }
    .dp-cell.selected { background: var(--primary); color: #fff; }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="#" aria-label="Home">
        <img th:src="@{/images/img.png}" alt="Logo" />
      </a>
      <nav class="nav-actions">
        <div>
        <a class="nav-btn" href="#"><i class="fa-solid fa-ticket"></i>BOOKINGS</a>
        </div>
        <div>
        <a class="nav-btn" href="/account"><i class="fa-solid fa-user"></i>ACCOUNT</a>
        </div>
      </nav>
    </div>
  </header>
  <div class="hero">
    <img class="img" style="width: 100%; height: auto;"
    th:src="@{/images/Train.gif}" />
   <!-- Train Search Bar -->
  <section class="search-container" aria-label="Train search">
    <div class="search-box" id="searchBox">
      <div class="field from" aria-label="From station">
        <i class="fa-solid fa-train-subway" aria-hidden="true"></i>
        <div class="meta">From</div>
        <input id="fromInput" type="text" placeholder="Coimbatore" value="Coimbatore" />
      </div>
      <button class="swap-btn" id="swapBtn" aria-label="Swap from and to">
        <i class="fa-solid fa-right-left" aria-hidden="true"></i>
      </button>
      <div class="field to" aria-label="To station">
        <i class="fa-solid fa-train-subway" aria-hidden="true"></i>
        <div class="meta">To</div>
        <input id="toInput" type="text" placeholder="Railway Station, Pollachi" value="Railway Station, Pollachi" />
      </div>
      <div class="field date" id="dateField" role="button" tabindex="0" aria-haspopup="dialog" aria-expanded="false" aria-label="Date of Journey">
        <i class="fa-solid fa-calendar-days" aria-hidden="true"></i>
        <div class="meta">Date of Journey</div>
        <div class="date-value" id="dateValue">--</div>
        <div class="chips">
          <button class="chip" id="chipToday">Today</button>
          <button class="chip" id="chipTomorrow">Tomorrow</button>
        </div>
        <!-- Date Picker Overlay (anchored to date field) -->
        <div class="date-picker" id="datePicker" role="dialog" aria-modal="true" aria-labelledby="dpMonthLabel" hidden>
          <div class="dp-top">
            <div class="label">Date of Journey</div>
            <div class="value" id="dpCurrentLabel">--</div>
          </div>
          <div class="dp-header">
            <button class="dp-nav prev" id="dpPrev" aria-label="Previous month"><i class="fa-solid fa-chevron-left"></i></button>
            <div class="dp-month" id="dpMonthLabel">October 2025</div>
            <button class="dp-nav next" id="dpNext" aria-label="Next month"><i class="fa-solid fa-chevron-right"></i></button>
          </div>
          <div class="dp-weekdays">
            <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
          </div>
          <div class="dp-grid" id="dpGrid"></div>
        </div>
      </div>
    </div>
    <div class="cta-wrap">
      <button class="search-btn" id="searchBtn"><i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i> <span>Search Trains</span></button>
    </div>
  </section>
  </div>

<script>
  // Train search interactions and custom date picker
  const fromInput = document.getElementById('fromInput');
  const toInput = document.getElementById('toInput');
  const swapBtn = document.getElementById('swapBtn');
  const dateField = document.getElementById('dateField');
  const dateValue = document.getElementById('dateValue');
  const chipToday = document.getElementById('chipToday');
  const chipTomorrow = document.getElementById('chipTomorrow');
  const dp = document.getElementById('datePicker');
  const dpGrid = document.getElementById('dpGrid');
  const dpMonthLabel = document.getElementById('dpMonthLabel');
  const dpCurrentLabel = document.getElementById('dpCurrentLabel');
  const dpPrev = document.getElementById('dpPrev');
  const dpNext = document.getElementById('dpNext');

  let selectedDate = new Date();
  let viewYear = selectedDate.getFullYear();
  let viewMonth = selectedDate.getMonth();

  function fmt(d) {
    return d.toLocaleDateString(undefined, { day: '2-digit', month: 'short', year: 'numeric' });
  }

  function updateDateLabel() {
    dateValue.textContent = fmt(selectedDate);
    if (dpCurrentLabel) dpCurrentLabel.textContent = fmt(selectedDate);
  }
  updateDateLabel();

  const today = new Date();
  const minYear = today.getFullYear();
  const minMonth = today.getMonth();

  function updateNavDisabled() {
    dpPrev.disabled = (viewYear === minYear && viewMonth === minMonth);
  }

  function buildCalendar(year, month) {
    const first = new Date(year, month, 1);
    const startDay = (first.getDay() + 6) % 7; // Monday-first grid
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const monthName = new Date(year, month, 1).toLocaleDateString(undefined, { month: 'long', year: 'numeric' });
    dpMonthLabel.textContent = monthName;
    updateNavDisabled();
    dpGrid.innerHTML = '';
    for (let i = 0; i < startDay; i++) {
      const cell = document.createElement('div');
      cell.className = 'dp-cell disabled';
      dpGrid.appendChild(cell);
    }
    for (let day = 1; day <= daysInMonth; day++) {
      const d = new Date(year, month, day);
      const cell = document.createElement('div');
      cell.className = 'dp-cell';
      cell.textContent = String(day);
      const minDate = new Date(minYear, minMonth, today.getDate());
      const isPast = d < minDate;
      const isWeekend = d.getDay() === 6 || d.getDay() === 0;
      if (isWeekend) cell.classList.add('weekend');
      if (d.toDateString() === selectedDate.toDateString()) cell.classList.add('selected');
      if (isPast) {
        cell.classList.add('disabled');
      } else {
        cell.addEventListener('click', () => {
          selectedDate = d;
          updateDateLabel();
          chipToday.classList.toggle('active', isToday(selectedDate));
          const tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1);
          chipTomorrow.classList.toggle('active', selectedDate.toDateString() === tomorrow.toDateString());
          dp.hidden = true;
          dateField.setAttribute('aria-expanded', 'false');
        });
      }
      dpGrid.appendChild(cell);
    }
  }

  function isToday(d) {
    const t = new Date();
    return d.getFullYear() === t.getFullYear() && d.getMonth() === t.getMonth() && d.getDate() === t.getDate();
  }

  function openPicker() {
    viewYear = selectedDate.getFullYear();
    viewMonth = selectedDate.getMonth();
    buildCalendar(viewYear, viewMonth);
    dp.hidden = false;
    dateField.setAttribute('aria-expanded', 'true');
  }
  function closePicker(e) {
    if (!dp.hidden && !dp.contains(e.target) && !dateField.contains(e.target)) {
      dp.hidden = true;
      dateField.setAttribute('aria-expanded', 'false');
    }
  }
  // Only open the picker if it is currently hidden
  dateField.addEventListener('click', (e) => { if (dp.hidden) openPicker(); });
  dateField.addEventListener('keydown', (e) => { if ((e.key === 'Enter' || e.key === ' ') && dp.hidden) openPicker(); });
  document.addEventListener('click', closePicker);

  dpPrev.addEventListener('click', (e) => { e.stopPropagation(); if (--viewMonth < 0) { viewMonth = 11; viewYear--; } buildCalendar(viewYear, viewMonth); });
  dpNext.addEventListener('click', (e) => { e.stopPropagation(); if (++viewMonth > 11) { viewMonth = 0; viewYear++; } buildCalendar(viewYear, viewMonth); });

  chipToday.addEventListener('click', () => {
    selectedDate = new Date();
    chipToday.classList.add('active');
    chipTomorrow.classList.remove('active');
    updateDateLabel();
  });
  chipTomorrow.addEventListener('click', () => {
    selectedDate = new Date();
    selectedDate.setDate(selectedDate.getDate() + 1);
    chipTomorrow.classList.add('active');
    chipToday.classList.remove('active');
    updateDateLabel();
  });

  swapBtn.addEventListener('click', () => {
    const tmp = fromInput.value;
    fromInput.value = toInput.value;
    toInput.value = tmp;
  });

  document.getElementById('searchBtn').addEventListener('click', () => {
    alert(`Searching trains from ${fromInput.value} to ${toInput.value} on ${fmt(selectedDate)}`);
  });
</script>
</body>
</html>
